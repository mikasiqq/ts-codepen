{"ast":null,"code":"import _objectSpread from\"/Users/gleb/Desktop/study/react/ts-prod/ts-codepen/packages/local-client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/gleb/Desktop/study/react/ts-prod/ts-codepen/packages/local-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{ResizableBox}from\"react-resizable\";import\"./Resizable.css\";import{jsx as _jsx}from\"react/jsx-runtime\";var Resizable=function Resizable(_ref){var direction=_ref.direction,children=_ref.children;var resizableProps;var _useState=useState(window.innerHeight),_useState2=_slicedToArray(_useState,2),innerHeight=_useState2[0],setInnerHeight=_useState2[1];var _useState3=useState(window.innerWidth),_useState4=_slicedToArray(_useState3,2),innerWidth=_useState4[0],setInnerWidth=_useState4[1];var _useState5=useState(window.innerWidth*0.75),_useState6=_slicedToArray(_useState5,2),width=_useState6[0],setWidth=_useState6[1];useEffect(function(){var timer;var listener=function listener(){if(timer){clearTimeout(timer);}timer=setTimeout(function(){setInnerWidth(window.innerWidth);setInnerHeight(window.innerHeight);if(window.innerWidth*0.75<width){setWidth(window.innerWidth*0.75);}},100);};window.addEventListener(\"resize\",listener);return function(){return window.removeEventListener(\"resize\",listener);};},[width]);if(direction===\"horizontal\"){resizableProps={className:\"resize-horizontal\",minConstraints:[innerWidth*0.2,Infinity],maxConstraints:[innerWidth*0.75,Infinity],height:Infinity,width:width,resizeHandles:[\"e\"],onResizeStop:function onResizeStop(event,data){setWidth(data.size.width);}};}else{resizableProps={minConstraints:[Infinity,100],maxConstraints:[Infinity,innerHeight*0.9],height:300,width:Infinity,resizeHandles:[\"s\"]};}return/*#__PURE__*/_jsx(ResizableBox,_objectSpread(_objectSpread({},resizableProps),{},{children:children}));};export default Resizable;","map":{"version":3,"names":["useEffect","useState","ResizableBox","Resizable","direction","children","resizableProps","window","innerHeight","setInnerHeight","innerWidth","setInnerWidth","width","setWidth","timer","listener","clearTimeout","setTimeout","addEventListener","removeEventListener","className","minConstraints","Infinity","maxConstraints","height","resizeHandles","onResizeStop","event","data","size"],"sources":["/Users/gleb/Desktop/study/react/ts-prod/ts-codepen/packages/local-client/src/components/Resizable/Resizable.tsx"],"sourcesContent":["import { FC, useEffect, useState } from \"react\";\nimport { ResizableBox } from \"react-resizable\";\nimport \"./Resizable.css\";\nimport { ResizableBoxProps } from \"react-resizable\";\n\ninterface ResizableProps {\n  direction: \"horizontal\" | \"vertical\";\n  children?: React.ReactNode;\n}\n\nconst Resizable: FC<ResizableProps> = ({ direction, children }) => {\n  let resizableProps: ResizableBoxProps;\n  const [innerHeight, setInnerHeight] = useState(window.innerHeight);\n  const [innerWidth, setInnerWidth] = useState(window.innerWidth);\n  const [width, setWidth] = useState(window.innerWidth * 0.75);\n\n  useEffect(() => {\n    let timer: any;\n    const listener = () => {\n      if (timer) {\n        clearTimeout(timer);\n      }\n      timer = setTimeout(() => {\n        setInnerWidth(window.innerWidth);\n        setInnerHeight(window.innerHeight);\n        if (window.innerWidth * 0.75 < width) {\n          setWidth(window.innerWidth * 0.75);\n        }\n      }, 100);\n    };\n\n    window.addEventListener(\"resize\", listener);\n\n    return () => window.removeEventListener(\"resize\", listener);\n  }, [width]);\n\n  if (direction === \"horizontal\") {\n    resizableProps = {\n      className: \"resize-horizontal\",\n      minConstraints: [innerWidth * 0.2, Infinity],\n      maxConstraints: [innerWidth * 0.75, Infinity],\n      height: Infinity,\n      width: width,\n      resizeHandles: [\"e\"],\n      onResizeStop: (event, data) => {\n        setWidth(data.size.width);\n      },\n    };\n  } else {\n    resizableProps = {\n      minConstraints: [Infinity, 100],\n      maxConstraints: [Infinity, innerHeight * 0.9],\n      height: 300,\n      width: Infinity,\n      resizeHandles: [\"s\"],\n    };\n  }\n  return <ResizableBox {...resizableProps}>{children}</ResizableBox>;\n};\n\nexport default Resizable;\n"],"mappings":"2TAAA,OAAaA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC/C,OAASC,YAAY,KAAQ,iBAAiB,CAC9C,MAAO,iBAAiB,CAAC,2CAQzB,GAAMC,UAA6B,CAAG,QAAhCA,UAA6B,MAAgC,IAA1BC,UAAS,MAATA,SAAS,CAAEC,QAAQ,MAARA,QAAQ,CAC1D,GAAIC,eAAiC,CACrC,cAAsCL,QAAQ,CAACM,MAAM,CAACC,WAAW,CAAC,wCAA3DA,WAAW,eAAEC,cAAc,eAClC,eAAoCR,QAAQ,CAACM,MAAM,CAACG,UAAU,CAAC,yCAAxDA,UAAU,eAAEC,aAAa,eAChC,eAA0BV,QAAQ,CAACM,MAAM,CAACG,UAAU,CAAG,IAAI,CAAC,yCAArDE,KAAK,eAAEC,QAAQ,eAEtBb,SAAS,CAAC,UAAM,CACd,GAAIc,MAAU,CACd,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrB,GAAID,KAAK,CAAE,CACTE,YAAY,CAACF,KAAK,CAAC,CACrB,CACAA,KAAK,CAAGG,UAAU,CAAC,UAAM,CACvBN,aAAa,CAACJ,MAAM,CAACG,UAAU,CAAC,CAChCD,cAAc,CAACF,MAAM,CAACC,WAAW,CAAC,CAClC,GAAID,MAAM,CAACG,UAAU,CAAG,IAAI,CAAGE,KAAK,CAAE,CACpCC,QAAQ,CAACN,MAAM,CAACG,UAAU,CAAG,IAAI,CAAC,CACpC,CACF,CAAC,CAAE,GAAG,CAAC,CACT,CAAC,CAEDH,MAAM,CAACW,gBAAgB,CAAC,QAAQ,CAAEH,QAAQ,CAAC,CAE3C,MAAO,kBAAMR,OAAM,CAACY,mBAAmB,CAAC,QAAQ,CAAEJ,QAAQ,CAAC,GAC7D,CAAC,CAAE,CAACH,KAAK,CAAC,CAAC,CAEX,GAAIR,SAAS,GAAK,YAAY,CAAE,CAC9BE,cAAc,CAAG,CACfc,SAAS,CAAE,mBAAmB,CAC9BC,cAAc,CAAE,CAACX,UAAU,CAAG,GAAG,CAAEY,QAAQ,CAAC,CAC5CC,cAAc,CAAE,CAACb,UAAU,CAAG,IAAI,CAAEY,QAAQ,CAAC,CAC7CE,MAAM,CAAEF,QAAQ,CAChBV,KAAK,CAAEA,KAAK,CACZa,aAAa,CAAE,CAAC,GAAG,CAAC,CACpBC,YAAY,CAAE,sBAACC,KAAK,CAAEC,IAAI,CAAK,CAC7Bf,QAAQ,CAACe,IAAI,CAACC,IAAI,CAACjB,KAAK,CAAC,CAC3B,CACF,CAAC,CACH,CAAC,IAAM,CACLN,cAAc,CAAG,CACfe,cAAc,CAAE,CAACC,QAAQ,CAAE,GAAG,CAAC,CAC/BC,cAAc,CAAE,CAACD,QAAQ,CAAEd,WAAW,CAAG,GAAG,CAAC,CAC7CgB,MAAM,CAAE,GAAG,CACXZ,KAAK,CAAEU,QAAQ,CACfG,aAAa,CAAE,CAAC,GAAG,CACrB,CAAC,CACH,CACA,mBAAO,KAAC,YAAY,gCAAKnB,cAAc,eAAGD,QAAQ,GAAgB,CACpE,CAAC,CAED,cAAeF,UAAS"},"metadata":{},"sourceType":"module"}