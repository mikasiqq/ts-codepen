{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gleb/Desktop/study/react/ts-prod/ts-codepen/packages/local-client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/gleb/Desktop/study/react/ts-prod/ts-codepen/packages/local-client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{ActionType}from\"../action-types\";import bundle from\"../../bundler\";export var updateCell=function updateCell(id,content){return{type:ActionType.UPDATE_CELL,payload:{id:id,content:content}};};export var deleteCell=function deleteCell(id){return{type:ActionType.DELETE_CELL,payload:id};};export var moveCell=function moveCell(id,direction){return{type:ActionType.MOVE_CELL,payload:{id:id,direction:direction}};};export var insertCellAfter=function insertCellAfter(id,cellType){return{type:ActionType.INSERT_CELL_AFTER,payload:{id:id,type:cellType}};};export var createBundle=function createBundle(cellId,input){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:ActionType.BUNDLE_START,payload:{cellId:cellId}});_context.next=3;return bundle(input);case 3:result=_context.sent;dispatch({type:ActionType.BUNDLE_COMPLETE,payload:{cellId:cellId,bundle:result}});case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};","map":{"version":3,"names":["ActionType","bundle","updateCell","id","content","type","UPDATE_CELL","payload","deleteCell","DELETE_CELL","moveCell","direction","MOVE_CELL","insertCellAfter","cellType","INSERT_CELL_AFTER","createBundle","cellId","input","dispatch","BUNDLE_START","result","BUNDLE_COMPLETE"],"sources":["/Users/gleb/Desktop/study/react/ts-prod/ts-codepen/packages/local-client/src/store/action-creators/index.ts"],"sourcesContent":["import { ActionType } from \"../action-types\";\nimport { CellTypes } from \"../cell\";\nimport {\n  UpdateCellAction,\n  DeleteCellAction,\n  MoveCellAction,\n  InsertCellAfterAction,\n  Direction,\n  Action,\n} from \"../actions\";\nimport bundle from \"../../bundler\";\nimport { Dispatch } from \"redux\";\n\nexport const updateCell = (id: string, content: string): UpdateCellAction => {\n  return {\n    type: ActionType.UPDATE_CELL,\n    payload: {\n      id,\n      content,\n    },\n  };\n};\n\nexport const deleteCell = (id: string): DeleteCellAction => {\n  return {\n    type: ActionType.DELETE_CELL,\n    payload: id,\n  };\n};\n\nexport const moveCell = (id: string, direction: Direction): MoveCellAction => {\n  return {\n    type: ActionType.MOVE_CELL,\n    payload: {\n      id,\n      direction,\n    },\n  };\n};\n\nexport const insertCellAfter = (\n  id: string | null,\n  cellType: CellTypes\n): InsertCellAfterAction => {\n  return {\n    type: ActionType.INSERT_CELL_AFTER,\n    payload: {\n      id,\n      type: cellType,\n    },\n  };\n};\n\nexport const createBundle = (cellId: string, input: string) => {\n  return async (dispatch: Dispatch<Action>) => {\n    dispatch({\n      type: ActionType.BUNDLE_START,\n      payload: {\n        cellId,\n      },\n    });\n\n    const result = await bundle(input);\n\n    dispatch({\n      type: ActionType.BUNDLE_COMPLETE,\n      payload: {\n        cellId,\n        bundle: result,\n      },\n    });\n  };\n};\n"],"mappings":"4UAAA,OAASA,UAAU,KAAQ,iBAAiB,CAU5C,MAAOC,OAAM,KAAM,eAAe,CAGlC,MAAO,IAAMC,WAAU,CAAG,QAAbA,WAAU,CAAIC,EAAU,CAAEC,OAAe,CAAuB,CAC3E,MAAO,CACLC,IAAI,CAAEL,UAAU,CAACM,WAAW,CAC5BC,OAAO,CAAE,CACPJ,EAAE,CAAFA,EAAE,CACFC,OAAO,CAAPA,OACF,CACF,CAAC,CACH,CAAC,CAED,MAAO,IAAMI,WAAU,CAAG,QAAbA,WAAU,CAAIL,EAAU,CAAuB,CAC1D,MAAO,CACLE,IAAI,CAAEL,UAAU,CAACS,WAAW,CAC5BF,OAAO,CAAEJ,EACX,CAAC,CACH,CAAC,CAED,MAAO,IAAMO,SAAQ,CAAG,QAAXA,SAAQ,CAAIP,EAAU,CAAEQ,SAAoB,CAAqB,CAC5E,MAAO,CACLN,IAAI,CAAEL,UAAU,CAACY,SAAS,CAC1BL,OAAO,CAAE,CACPJ,EAAE,CAAFA,EAAE,CACFQ,SAAS,CAATA,SACF,CACF,CAAC,CACH,CAAC,CAED,MAAO,IAAME,gBAAe,CAAG,QAAlBA,gBAAe,CAC1BV,EAAiB,CACjBW,QAAmB,CACO,CAC1B,MAAO,CACLT,IAAI,CAAEL,UAAU,CAACe,iBAAiB,CAClCR,OAAO,CAAE,CACPJ,EAAE,CAAFA,EAAE,CACFE,IAAI,CAAES,QACR,CACF,CAAC,CACH,CAAC,CAED,MAAO,IAAME,aAAY,CAAG,QAAfA,aAAY,CAAIC,MAAc,CAAEC,KAAa,CAAK,CAC7D,iGAAO,iBAAOC,QAA0B,+HACtCA,QAAQ,CAAC,CACPd,IAAI,CAAEL,UAAU,CAACoB,YAAY,CAC7Bb,OAAO,CAAE,CACPU,MAAM,CAANA,MACF,CACF,CAAC,CAAC,CAAC,sBAEkBhB,OAAM,CAACiB,KAAK,CAAC,QAA5BG,MAAM,eAEZF,QAAQ,CAAC,CACPd,IAAI,CAAEL,UAAU,CAACsB,eAAe,CAChCf,OAAO,CAAE,CACPU,MAAM,CAANA,MAAM,CACNhB,MAAM,CAAEoB,MACV,CACF,CAAC,CAAC,CAAC,sDACJ,+DACH,CAAC"},"metadata":{},"sourceType":"module"}