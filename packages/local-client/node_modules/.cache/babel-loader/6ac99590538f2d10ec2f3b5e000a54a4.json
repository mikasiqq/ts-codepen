{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gleb/Desktop/study/react/ts-prod/ts-codepen/packages/local-client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/gleb/Desktop/study/react/ts-prod/ts-codepen/packages/local-client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export var unpkgPathPlugin=function unpkgPathPlugin(){return{name:\"unpkg-path-plugin\",setup:function setup(build){// handling root entry file of index.js\nbuild.onResolve({filter:/(^index\\.js$)/},function(){return{path:\"index.js\",namespace:\"a\"};});// handling relative paths\nbuild.onResolve({filter:/^\\.+\\//},function(args){return{namespace:\"a\",path:new URL(args.path,\"https://unpkg.com\"+args.resolveDir+\"/\").href};});// handling main file\nbuild.onResolve({filter:/.*/},/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(args){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",{namespace:\"a\",path:\"https://unpkg.com/\".concat(args.path)});case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());}};};","map":{"version":3,"names":["unpkgPathPlugin","name","setup","build","onResolve","filter","path","namespace","args","URL","resolveDir","href"],"sources":["/Users/gleb/Desktop/study/react/ts-prod/ts-codepen/packages/local-client/src/bundler/plugins/UnpkgPathPlugin.ts"],"sourcesContent":["import * as esbuild from \"esbuild-wasm\";\n\nexport const unpkgPathPlugin = () => {\n  return {\n    name: \"unpkg-path-plugin\",\n    setup(build: esbuild.PluginBuild) {\n      // handling root entry file of index.js\n      build.onResolve({ filter: /(^index\\.js$)/ }, () => {\n        return { path: \"index.js\", namespace: \"a\" };\n      });\n\n      // handling relative paths\n      build.onResolve({ filter: /^\\.+\\// }, (args: any) => {\n        return {\n          namespace: \"a\",\n          path: new URL(args.path, \"https://unpkg.com\" + args.resolveDir + \"/\")\n            .href,\n        };\n      });\n\n      // handling main file\n      build.onResolve({ filter: /.*/ }, async (args: any) => {\n        return {\n          namespace: \"a\",\n          path: `https://unpkg.com/${args.path}`,\n        };\n      });\n\n    },\n  };\n};\n"],"mappings":"4UAEA,MAAO,IAAMA,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CACnC,MAAO,CACLC,IAAI,CAAE,mBAAmB,CACzBC,KAAK,gBAACC,KAA0B,CAAE,CAChC;AACAA,KAAK,CAACC,SAAS,CAAC,CAAEC,MAAM,CAAE,eAAgB,CAAC,CAAE,UAAM,CACjD,MAAO,CAAEC,IAAI,CAAE,UAAU,CAAEC,SAAS,CAAE,GAAI,CAAC,CAC7C,CAAC,CAAC,CAEF;AACAJ,KAAK,CAACC,SAAS,CAAC,CAAEC,MAAM,CAAE,QAAS,CAAC,CAAE,SAACG,IAAS,CAAK,CACnD,MAAO,CACLD,SAAS,CAAE,GAAG,CACdD,IAAI,CAAE,GAAIG,IAAG,CAACD,IAAI,CAACF,IAAI,CAAE,mBAAmB,CAAGE,IAAI,CAACE,UAAU,CAAG,GAAG,CAAC,CAClEC,IACL,CAAC,CACH,CAAC,CAAC,CAEF;AACAR,KAAK,CAACC,SAAS,CAAC,CAAEC,MAAM,CAAE,IAAK,CAAC,4FAAE,iBAAOG,IAAS,oJACzC,CACLD,SAAS,CAAE,GAAG,CACdD,IAAI,6BAAuBE,IAAI,CAACF,IAAI,CACtC,CAAC,wDACF,+DAAC,CAEJ,CACF,CAAC,CACH,CAAC"},"metadata":{},"sourceType":"module"}